[uwsgi]
; 基础配置
socket = 127.0.0.1:9000
chdir = /data/parking_system/
wsgi-file = parking_system/wsgi.py
virtualenv = /envs/five_class_demo/

; 进程配置（2核CPU优化方案）
processes = 3                 ; (CPU核心数 × 1.5) 取整
threads = 2                  ; 每个进程2个线程
enable-threads = true         ; 启用线程支持
max-requests = 500           ; 每个worker处理500次请求后重启

; 内存优化
reload-on-as = 512           ; 当AS达到512MB时重启worker
reload-on-rss = 768          ; 当RSS达到768MB时重启worker
worker-reload-mercy = 30     ; 优雅重启等待时间(秒)

; 监控配置
stats = /tmp/stats.sock      ; 性能监控socket
memory-report = true         ; 启用内存报告